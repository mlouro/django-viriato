{% extends 'invoices/base.html' %}
{% load i18n %}

{% block extra_head %}
    {{ block.super }}
    <link type="text/css" rel="Stylesheet" media="screen" href="{{ MEDIA_URL }}css/invoices/invoices.css"/>
    <script type="text/javascript" src="{{ MEDIA_URL }}js/invoices/company.js"></script>
{% endblock extra_head %}

{% block content_id_title %}<h1>{% trans 'Configure your company' %}</h1>{% endblock %}

{% block content %}
    <form action="/invoices/company/" method="POST">
        <h2 class="headline">{% trans 'Legal Information' %}</h2>
        <table>
            <tr>
                <td><label for="title">{% trans 'Title' %}</label></td>
                <td>
                     {{ form.title }}
                    <br/>
                    {{ form.title.errors }}
                </td>
            </tr>
            <tr>
                <td><label for="legal_name">{% trans 'Legal Name' %}</label></td>
                <td>
                    {{ form.legal_name }}
                <br>
                    {{ form.legal_name.errors }}
                </td>
            </tr>
            <tr>
                <td><label for="nif">{% trans 'Nif' %}</label></td>
                <td>
                    {{ form.nif }}
                <br>
                    {{ form.nif.errors }}
                </td>
            </tr>
            <tr>
                <td><label for="tax">{% trans 'Tax' %}</label></td>
                <td>
                    {{ form.tax }}
                <br>
                    {{ form.tax.errors }}
                </td>
            </tr>
            <tr>
                <td><label for="retention">{% trans 'Retention' %}</label></td>
                <td>
                    {{ form.retention }}
                <br>
                    {{ form.retention.errors }}
                </td>
            </tr>
        </table>


        <h2 class="headline">{% trans 'Contact information' %} <small>(<a id="show_contact_information">show</a>)</small></h2>
        <div id="contact_information" class="hidden">
            <fieldset class="formset">
            {{ formsets.email_formset.management_form }}
            <h3>{% trans 'Email addresses' %}</h3>
            {% for form in formsets.email_formset.forms %}
                <div>
                    {{ form.id }}
                    {{ form.address }}
                    {{ form.contact_type }}
                    {{ form.DELETE }}
                </div>
                {{ form.address.errors }}
                {{ form.contact_type.errors }}
            {% endfor %}
            </fieldset>

            <fieldset class="formset">
                <h3>{% trans 'Phone numbers' %}</h3>
                {{ formsets.phone_formset.management_form }}
                {% for form in formsets.phone_formset.forms %}
                    <div>
                        {{ form.number }}
                        {{ form.phone_type }}
                        {{ form.DELETE }}
                    </div>
                    {{ form.address.errors }}
                    {{ form.phone_type.errors }}
                {% endfor %}
            </fieldset>

            <fieldset class="formset">
                <h3>{% trans 'Instant Messaging' %}</h3>
                {{ formsets.im_formset.management_form }}
                {% for form in formsets.im_formset.forms %}
                    <div>
                        {{ form.email }}
                        {{ form.contact_type }}
                        {{ form.DELETE }}
                    </div>
                    {{ form.address.errors }}
                    {{ form.contact_type.errors }}
                {% endfor %}
            </fieldset>

            <fieldset class="formset">
                <h3>Websites</h3>
                {{ formsets.website_formset.management_form }}
                {% for form in formsets.website_formset.forms %}
                    <div>
                        {{ form.url }}
                        {{ form.contact_type }}
                        {{ form.DELETE }}
                    </div>
                    {{ form.address.errors }}
                    {{ form.contact_type.errors }}
                {% endfor %}
            </fieldset>

            <fieldset class="formset">
                <h3>{% trans 'Addresses' %}</h3>
                {{ formsets.address_formset.management_form }}
                {% for form in formsets.address_formset.forms %}
                    <div>
                        {{ form.street }}
                        {{ form.contact_type }}
                        {{ form.DELETE }}
                    </div>
                    <div>
                        {{ form.city }}
                        {{ form.state }}
                    </div>
                    <div>
                        {{ form.zipcode }}
                        {{ form.country }}
                    </div>
                    {{ form.address.errors }}
                    {{ form.contact_type.errors }}
                {% endfor %}
            </fieldset>
        </div>

        <h2 class="headline">{% trans 'Extra information' %} <small>(<a id="show_extra_information">show</a>)</small></h2>
        <div id="extra_information" class="hidden">
            <fieldset class="formset">
                <div>
                    <label>Photo</label>
                    {{ form.photo }}
                    {{ form.photo.errors }}
                </div>
            </fieldset>
        </div>
        <p id="buttons">
            <input type="submit" value="{% trans 'Save' %}"/>
        </p>
    </form>

{% endblock content %}

{% block content_sidebar %}

{% endblock content_sidebar %}